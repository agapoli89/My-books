{"version":3,"sources":["actions/appActions.js","reducers/rootReducer.js","reducers/appReducer.js","store/store.js","middleware/validateAuthorMiddleware.js","Form.jsx","Element.jsx","List.jsx","App.js","index.js"],"names":["ADD","DELETE","EDIT","rootReducer","combineReducers","rates","state","action","type","payload","map","currentStateElement","id","author","comment","rate","title","filter","console","warn","store","createStore","applyMiddleware","next","log","length","Form","callback","useState","authorInput","setAuthorInput","rateInput","setRateInput","commentInput","setCommentInput","titleInput","setTitleInput","addBookFormVisible","setAddBookFormVisible","dispatch","useDispatch","onSubmit","e","preventDefault","rateObject","Number","editRate","Math","floor","random","addRate","className","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","onClick","prev","aria-labelledby","data-bs-parent","htmlFor","value","onChange","target","rows","ElementConsumer","connect","deleteRate","isFormVisible","setIsFormVisible","toggleElements","formOrButtonElement","List","ratesElements","useSelector","App","subject","style","textAlign","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f88ad805.chunk.js","sourcesContent":["export const ADD = 'ADD';\r\nexport const DELETE = 'DELETE';\r\nexport const EDIT = 'EDIT';\r\n\r\nexport const addRate = ({author, comment, rate, title}) => ({\r\n    type: ADD,\r\n    payload: {\r\n        author,\r\n        comment,\r\n        id: Math.floor(Math.random() * 10000),\r\n        rate,\r\n        title,\r\n    }\r\n});\r\n\r\nexport const deleteRate = id => ({\r\n    type: DELETE,\r\n    payload: {\r\n        id,\r\n    }\r\n});\r\n\r\nexport const editRate = ({author, comment, rate, id, title}) => ({\r\n    type: EDIT,\r\n    payload: {\r\n        author,\r\n        comment,\r\n        id,\r\n        rate,\r\n        title,\r\n    }\r\n});\r\n","import { combineReducers } from 'redux';\r\n\r\nimport { appReducer } from './appReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n    rates: appReducer,\r\n});","import { ADD, DELETE, EDIT } from '../actions/appActions';\r\n\r\nexport const appReducer = (state = [], action) => {\r\n    switch (action.type) {\r\n        case ADD:\r\n            return [ ...state, action.payload];\r\n        case EDIT:\r\n            return state.map(currentStateElement => {\r\n                if (currentStateElement.id !== action.payload.id) {\r\n                    return currentStateElement;\r\n                }\r\n\r\n                const { author, comment, rate, title } = action.payload;\r\n\r\n                return ({\r\n                    author,\r\n                    comment,\r\n                    id: currentStateElement.id,\r\n                    rate,\r\n                    title,\r\n                })\r\n            });\r\n        case DELETE:\r\n            return state.filter(currentStateElement => currentStateElement.id !== action.payload.id);\r\n        default:\r\n            console.warn(`Nie mamy akcji typu ${action.type}`);\r\n            return state;\r\n    }\r\n}","import { applyMiddleware, createStore } from 'redux';\r\n\r\nimport { validateAuthorMiddleware } from '../middleware/validateAuthorMiddleware';\r\nimport { rootReducer } from '../reducers/rootReducer';\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(validateAuthorMiddleware)\r\n);\r\n\r\nexport default store;","import { ADD } from '../actions/appActions';\r\n\r\nexport const validateAuthorMiddleware = store => next => action => {\r\n    console.log(action);\r\n\r\n    if (action.type === ADD && !action.payload.author.length) {\r\n        console.warn('Proszę wpisz autora')\r\n        return;\r\n    }\r\n    next(action);\r\n};","import { useState, useRef } from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { addRate, editRate } from './actions/appActions';\r\n\r\nimport './styles/Form.css'\r\n\r\nconst Form = ({\r\n    author = '',\r\n    callback,\r\n    comment = '',\r\n    id,\r\n    rate= 5,\r\n    title = '',\r\n}) => {\r\n    const [authorInput, setAuthorInput] = useState(author);\r\n    const [rateInput, setRateInput] = useState(rate);\r\n    const [commentInput, setCommentInput] = useState(comment);\r\n    const [titleInput, setTitleInput] = useState(title);\r\n    const [addBookFormVisible, setAddBookFormVisible] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleAddBookForm = () => {\r\n        setAddBookFormVisible(prev => !prev);\r\n    }\r\n    const handleOnChangeTitleInput = e => setTitleInput(e.target.value);\r\n    const handleOnChangeAuthorInput = e => setAuthorInput(e.target.value);\r\n    const handleOnChangeRateInput = e => setRateInput(e.target.value);\r\n    const handleOnChangeCommentInput = e => setCommentInput(e.target.value);\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const rateObject = {\r\n            title: titleInput,\r\n            author: authorInput,\r\n            comment: commentInput,\r\n            id,\r\n            rate: Number(rateInput),\r\n        };\r\n\r\n        id \r\n            ? dispatch(editRate(rateObject)) \r\n            : dispatch(addRate(rateObject));\r\n\r\n        if (id) {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    return (  \r\n        <form onSubmit={handleFormSubmit} className=\"form accordion\" id=\"accordionExample\">\r\n            <div className=\"accordion-item\">\r\n                <h3 className=\"accordion-header\" id=\"headingOne\">\r\n                    <button className={`accordion-button ${!addBookFormVisible && 'collapsed'}`} type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\"\r\n                    onClick={handleAddBookForm}>\r\n                    Dodaj książkę\r\n                    </button>\r\n                </h3>\r\n                <div id=\"collapseOne\" className={`accordion-collapse collapse ${addBookFormVisible && 'show'}`}aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\r\n                    <div className=\"accordion-body\">\r\n                    <div className=\"mb-3\">\r\n                    <label htmlFor=\"titleInput\" className=\"form-label\">Tytuł:</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        id=\"titleInput\" \r\n                        value={titleInput}\r\n                        onChange={handleOnChangeTitleInput} \r\n                    />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"authorInput\" className=\"form-label\">Autor:</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        id=\"authorInput\"\r\n                        value={authorInput}\r\n                        onChange={handleOnChangeAuthorInput} \r\n                    />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"rateInput\" className=\"form-label\">Ocena:</label>\r\n                    <input \r\n                        type=\"number\" \r\n                        className=\"form-control\" \r\n                        id=\"rateInput\"\r\n                        value={rateInput}\r\n                        onChange={handleOnChangeRateInput} \r\n                    />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"commentInput\" className=\"form-label\">Komentarz:</label>\r\n                    <textarea \r\n                        className=\"form-control\" id=\"commentInput\"\r\n                        rows=\"3\"\r\n                        onChange={handleOnChangeCommentInput}\r\n                        value={commentInput}>\r\n                    </textarea>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\">{id ? 'Edytuj' : 'Dodaj'}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default Form;","import { useState } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport Form from './Form';\r\nimport { deleteRate } from './actions/appActions';\r\n\r\nconst Element = ({author, comment, deleteRate, id, rate, title}) => {\r\n    const [isFormVisible, setIsFormVisible] = useState(false);\r\n\r\n    const toggleElements = () => setIsFormVisible(prev => !prev);\r\n\r\n    const deleteElement = () => deleteRate(id);\r\n\r\n    const formOrButtonElement = isFormVisible\r\n        ? (\r\n            <Form\r\n                title={title}\r\n                author={author}\r\n                callback={toggleElements}\r\n                comment={comment}\r\n                id={id}\r\n                rate={rate}\r\n            />\r\n        )\r\n        : (\r\n            <div>\r\n                <button onClick={toggleElements} className=\"btn btn-secondary mx-1\">Edytuj</button>\r\n                <button onClick={deleteElement} className=\"btn btn-secondary mx-1\">Usuń</button>\r\n            </div>\r\n        )\r\n\r\n    return (  \r\n        <div className=\"card m-5\">\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Tytuł: {title}</h5>\r\n                <h6 className=\"card-subtitle mb-2 text-muted\">Autor: {author}</h6>\r\n                <p className=\"card-text\">Ocena: {rate}</p>\r\n                <p className=\"card-text\">Komentarz: {comment}</p>\r\n                {formOrButtonElement}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst ElementConsumer = connect(null, {deleteRate})(Element);\r\n \r\nexport default ElementConsumer;","import { useSelector } from 'react-redux';\r\n\r\nimport Element from './Element';\r\n\r\nconst List = () => {\r\n    const rates = useSelector(store => store.rates);\r\n    const ratesElements = rates.map(rate => <Element key={rate.id} {...rate}/>)\r\n\r\n    return (  \r\n        <div>\r\n            {ratesElements}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default List;","import { Provider } from 'react-redux';\n\nimport store from './store/store';\nimport Form from './Form';\nimport List from './List';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n\n  const subject = <h1 style={{textAlign: 'center'}} className=\"mt-3\">Lista przeczytanych książek:</h1>\n\n  return (\n    <Provider store={store}>\n      {subject}\n      <Form />\n      <List />\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './styles/style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className=\"app\"/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}